VIRTUALENV_NAME=modelstore.$(shell pwd | rev | cut -d '/' -f 1 | rev)
REPO_ROOT=$(shell cd ../../ && pwd)

.PHONY: setup pyenv pyenv-uninstall refresh

pyenv:
	@$(REPO_ROOT)/bin/_setup_pyenv $(VIRTUALENV_NAME)
	pip install -e $(REPO_ROOT)

refresh:
	echo "\n ðŸ”µ  Refreshing installation of modelstore"
	pip install --upgrade pip setuptools wheel	
	pip uninstall -y modelstore
	pip install --no-cache-dir -e $(REPO_ROOT)

pyenv-uninstall:
	@$(REPO_ROOT)/bin/_remove_pyenv

setup:
	pip install --upgrade pip setuptools wheel	
	pip install -r requirements.txt
	pip install --no-cache-dir -e $(REPO_ROOT)
